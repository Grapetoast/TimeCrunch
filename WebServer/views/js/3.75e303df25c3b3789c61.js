webpackJsonp([3],{NyPQ:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,".main[data-v-33201161]{height:500px;width:100%;margin-top:120px}h1[data-v-33201161]{color:#c90c2e;text-align:center;font-size:2.5em;margin:0;width:80%;margin-left:10%;margin-top:200px;margin-bottom:20px}select option[data-default][data-v-33201161]{color:#888}.StripeElement[data-v-33201161]{background-color:#fff;height:40px;width:90%;margin-left:5%;padding:10px 12px;border:1px solid #323d38;box-shadow:0 1px 3px 0 #e6ebf1;transition:box-shadow .15s ease}.StripeElement--focus[data-v-33201161]{box-shadow:0 1px 3px 0 #cfd7df}.StripeElement--invalid[data-v-33201161]{border-color:#323d38}.StripeElement--webkit-autofill[data-v-33201161]{background-color:#fefde5!important}button[data-v-33201161]{background:#323d38;color:#fff;border:none;font-size:1.5em;margin-left:10px;border-radius:5px}input[data-v-33201161]{border:1px solid #323d38;border-radius:0}.role[data-v-33201161],input[data-v-33201161]{width:90%;margin-left:5%;height:40px;margin-bottom:10px}.role[data-v-33201161]{border:1px solid #323d38}.togglePass[data-v-33201161]{width:50%;margin-left:20px}.submitRegister[data-v-33201161]{width:90%;height:40px;margin-left:5%;margin-top:10px}.companyRegisterButton[data-v-33201161],.submitCompany[data-v-33201161],.submitEmployee[data-v-33201161]{width:90%;height:50px;margin-left:5%}.exception[data-v-33201161]{width:90%;margin-left:5%;display:-ms-grid;display:grid;-ms-grid-rows:50px 20px;grid-template-rows:50px 20px;-ms-grid-columns:1fr 1fr;grid-template-columns:1fr 1fr}.employeeRegisterButton[data-v-33201161]{-ms-grid-row:1;grid-row:1;-ms-grid-column:1;grid-column-start:1;grid-column-end:4;height:50px;margin:0;margin-top:10px}h4[data-v-33201161]{-ms-grid-row:2;grid-row:2;-ms-grid-column:3;grid-column:3;font-size:.9em;margin:0;color:#c90c2e}.back[data-v-33201161]{width:34%;margin-left:5%;margin-top:10px;background-color:#c90c2e}",""])},S2NW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("mtWM"),r=a.n(o),n={name:"Register",props:["logged","user"],data:function(){return{modal:"",showPass:!1,email:"",password:"",name:"",company:!1,payment:!1,companyId:"",companyName:"",stripeSource:"",error:!1,taken:!1,stripe:"",card:""}},methods:{registerUser:function(){var e=this;!0===e.company&&r.a.post("https://54.186.69.46:81/companys",{companyId:e.companyId,companyName:e.companyName}).then(function(){e.error=!1}).catch(function(t){console.log(t),e.error=!0}),r.a.post("https://54.186.69.46:81/users",{email:e.email,password:e.password,name:e.name,companyId:e.companyId,admin:e.company,payment:e.payment,stripeSource:e.stripeSource}).then(function(t){e.$emit("register",{token:t.data.token,id:t.data.userId,admin:t.data.admin})}).catch(function(t){console.log(t),e.error=!0})},submitCompanyId:function(){var e=this;r.a.get("https://54.186.69.46:81/companys/"+e.companyId).then(function(t){e.companyName=t.data[0].companyName,e.modal="register",e.company=!1,e.error=!1}).catch(function(t){console.log(t),e.error=!0})},submitCompany:function(){var e=this;r.a.get("https://54.186.69.46:81/companys/"+e.companyId).then(function(t){if(0===t.data.length){e.company=!0,e.modal="register";var a=window.Stripe("pk_live_dMLr0hShLxaZmXesv1buhndd");e.stripeSetup(a)}else e.taken=!0}).catch(function(e){console.log(e)})},stripeSetup:function(e){this.stripe=e;var t=e.elements();this.card=t.create("card",{style:{base:{color:"#32325d",lineHeight:"18px",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}}),this.card.mount("#card-element"),this.card.addEventListener("change",function(e){var t=document.getElementById("card-errors");e.error?t.textContent=e.error.message:t.textContent=""})},submitCard:function(){var e=this;e.stripe.createSource(e.card).then(function(t){t.error?(document.getElementById("card-errors").textContent=t.error.message,console.log(t.error)):e.stripeSourceHandler(t.source.id)})},stripeSourceHandler:function(e){this.stripeSource=e,this.payment=!0,this.registerUser()}}},s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},["register"===e.modal?a("div",{staticClass:"registerModal"},[a("h1",[e._v("Register")]),e._v(" "),e.error?a("h3",[e._v("Missing Inputs")]):e._e(),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"name",attrs:{placeholder:"First Name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"email",attrs:{placeholder:"user@example.com"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),e.showPass?e._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"password",attrs:{placeholder:"*********",type:"password"},domProps:{value:e.password},on:{keypress:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.registerUser(t):null},input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),e.showPass?a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"password",attrs:{placeholder:"*********"},domProps:{value:e.password},on:{keypress:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.registerUser(t):null},input:function(t){t.target.composing||(e.password=t.target.value)}}}):e._e()]):"employee"===e.modal?a("div",{staticClass:"employeeRegister"},[a("h1",[e._v("Enter Company Code")]),e._v(" "),e.error?a("h3",[e._v("Wrong Code")]):e._e(),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.companyId,expression:"companyId"}],staticClass:"companyCode",attrs:{placeholder:"Company Code"},domProps:{value:e.companyId},on:{input:function(t){t.target.composing||(e.companyId=t.target.value)}}}),e._v(" "),a("button",{staticClass:"submitEmployee",on:{click:e.submitCompanyId}},[e._v("Submit")]),e._v(" "),a("button",{staticClass:"back",on:{click:function(t){e.modal="",e.error=!1}}},[e._v("Back")])]):"company"===e.modal?a("div",{staticClass:"companyRegister"},[a("h1",[e._v("Enter Company Information")]),e._v(" "),e.error?a("h3",[e._v("Missing Inputs")]):e._e(),e._v(" "),e.taken?a("h3",[e._v("Company Code Taken")]):e._e(),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.companyId,expression:"companyId"}],staticClass:"companyCode",attrs:{placeholder:"Company Code"},domProps:{value:e.companyId},on:{input:function(t){t.target.composing||(e.companyId=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.companyName,expression:"companyName"}],staticClass:"companyName",attrs:{placeholder:"Company Name"},domProps:{value:e.companyName},on:{input:function(t){t.target.composing||(e.companyName=t.target.value)}}}),e._v(" "),a("button",{staticClass:"submitCompany",on:{click:e.submitCompany}},[e._v("Submit")]),e._v(" "),a("button",{staticClass:"back",on:{click:function(t){e.modal="",e.error=!1}}},[e._v("Back")])]):a("div",{staticClass:"chooseRegister"},[a("h1",[e._v("Are you Registering a New Company?")]),e._v(" "),a("button",{staticClass:"companyRegisterButton",on:{click:function(t){e.modal="company"}}},[e._v("Yes")]),e._v(" "),a("div",{staticClass:"exception"},[a("button",{staticClass:"employeeRegisterButton",on:{click:function(t){e.modal="employee"}}},[e._v("No")]),e._v(" "),a("h4",[e._v("*Must have a company Code")])]),e._v(" "),a("button",{staticClass:"back",on:{click:function(t){e.$router.push("/login")}}},[e._v("Back")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"register"===e.modal,expression:"modal==='register'"}]},[e._m(0),e._v(" "),e.showPass?e._e():a("button",{staticClass:"togglePass",on:{click:function(t){e.showPass=!e.showPass}}},[e._v("Show Password")]),e._v(" "),e.showPass?a("button",{staticClass:"togglePass",on:{click:function(t){e.showPass=!e.showPass}}},[e._v("Hide Password")]):e._e(),e._v(" "),a("button",{staticClass:"back",on:{click:function(t){e.modal="",e.error=!1}}},[e._v("Back")]),e._v(" "),a("button",{staticClass:"submitRegister",on:{click:e.submitCard}},[e._v("Submit")])])])},i=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"form-row"},[t("div",{attrs:{id:"card-element"}}),this._v(" "),t("div",{attrs:{id:"card-errors",role:"alert"}})])}];s._withStripped=!0;var c=a("XyMi"),m=!1;var d=function(e){m||a("axtO")},l=Object(c.a)(n,s,i,!1,d,"data-v-33201161",null);l.options.__file="src\\pages\\Register.vue";t.default=l.exports},axtO:function(e,t,a){var o=a("NyPQ");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,a("rjj0").default)("2cc285c2",o,!1,{})}});